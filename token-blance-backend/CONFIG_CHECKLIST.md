# TokenBalanceX 配置检查清单

## 第 1 步：验证 .env 文件配置

在项目根目录的 `.env` 文件中，检查以下内容：

### ✅ 应该看到类似这样的配置：

```env
# ❌ 错误 - 使用了零地址
TOKEN_CONTRACT_ADDRESS=0x0000000000000000000000000000000000000000

# ✅ 正确 - 使用了真实合约地址
TOKEN_CONTRACT_ADDRESS=0x1234567890123456789012345678901234567890
```

## 第 2 步：更新合约地址

你部署的合约在 Sepolia 上的地址是什么？

比如从 Sepolia Etherscan 看到的：
```
https://sepolia.etherscan.io/address/0xYourContractAddress
```

## 第 3 步：在 .env 中设置

编辑 `.env` 文件：

```bash
# 旧值 - 零地址（不可用）
TOKEN_CONTRACT_ADDRESS=0x0000000000000000000000000000000000000000

# 新值 - 你的真实合约地址
TOKEN_CONTRACT_ADDRESS=0x您部署的合约地址
```

## 第 4 步：重启应用

```bash
go run cmd/api/main.go
```

## 应该看到的日志输出

✅ **配置正确时**：
```
启动区块链事件监听服务...
区块链事件监听服务启动成功
检测到事件: TX Hash=0x..., Block=..., 主题数=...
```

❌ **配置错误时**：
```
启动区块链事件监听服务...
合约地址无效，事件监听已禁用
```

## 常见问题

**Q: 零地址是什么？**
A: `0x0000000000000000000000000000000000000000` 是以太坊的特殊地址，表示"没有地址"。代码用这个来检测是否配置了合约地址。

**Q: 为什么会出现零地址检查？**
A: 为了防止用户忘记配置合约地址，应用启动时会检查。如果没有配置，就禁用事件监听。

**Q: 我的合约地址应该是什么格式？**
A: 应该是以 `0x` 开头，后面跟 40 个十六进制字符的 42 位字符串。
例如: `0x1A2B3C4D5E6F7A8B9C0D1E2F3A4B5C6D7E8F9A0`

## 解决步骤总结

1. 确认你在 Sepolia 上部署的合约地址
2. 编辑 `.env` 文件，替换 `TOKEN_CONTRACT_ADDRESS`
3. 重启应用
4. 检查应用日志，验证事件监听已启动
5. 在合约上执行交易，应该会看到事件被捕获

需要帮助? 在应用启动时查看日志信息！
